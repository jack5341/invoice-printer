{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"/home/jack5341/jack5341/projects/invoice-printer/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/jack5341/jack5341/projects/invoice-printer/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Link, Drawer, DrawerBody, DrawerFooter, Button, DrawerOverlay, DrawerContent, Text, useDisclosure, Input, FormControl, FormLabel, Textarea, Divider, NumberDecrementStepper, NumberInput, NumberInputField, NumberInputStepper, NumberIncrementStepper } from \"@chakra-ui/react\";\nimport { CheckIcon, DownloadIcon } from \"@chakra-ui/icons\";\nimport { useState, useEffect } from \"react\";\nimport jwt from \"jsonwebtoken\";\nexport default function Drawers(props) {\n  var _useDisclosure = useDisclosure(),\n      isOpen = _useDisclosure.isOpen,\n      onOpen = _useDisclosure.onOpen,\n      onClose = _useDisclosure.onClose;\n\n  var _useState = useState(null),\n      name = _useState[0],\n      setName = _useState[1];\n\n  var _useState2 = useState(null),\n      slogan = _useState2[0],\n      setSlogan = _useState2[1];\n\n  var _useState3 = useState(null),\n      location = _useState3[0],\n      setLocation = _useState3[1];\n\n  var _useState4 = useState(null),\n      adress = _useState4[0],\n      setAdress = _useState4[1];\n\n  var _useState5 = useState(null),\n      ownername = _useState5[0],\n      setOwnerName = _useState5[1];\n\n  var _useState6 = useState(null),\n      phone = _useState6[0],\n      setPhone = _useState6[1];\n\n  var _useState7 = useState(null),\n      email = _useState7[0],\n      setEmail = _useState7[1];\n\n  var _useState8 = useState(null),\n      domain = _useState8[0],\n      setDomain = _useState8[1];\n\n  var _useState9 = useState(null),\n      description = _useState9[0],\n      setDescription = _useState9[1];\n\n  var _useState10 = useState(null),\n      tax = _useState10[0],\n      setTax = _useState10[1];\n\n  var _useState11 = useState(false),\n      isSaved = _useState11[0],\n      isSetSaved = _useState11[1];\n\n  var _useState12 = useState(false),\n      isUpload = _useState12[0],\n      setIsUploaded = _useState12[1];\n\n  var _useState13 = useState(null),\n      obj = _useState13[0],\n      setObj = _useState13[1];\n\n  useEffect(function () {\n    window.localStorage.getItem(\"company_information\") ? isSetSaved(true) : isSetSaved(false);\n    setObj(jwt.decode(window.localStorage.getItem(\"company_information\")));\n  }, []);\n\n  var handleFileChosenLogo = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(file) {\n      var reader;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (file) {\n                _context.next = 2;\n                break;\n              }\n\n              return _context.abrupt(\"return\", null);\n\n            case 2:\n              reader = new FileReader();\n              reader.readAsDataURL(file);\n\n              reader.onload = function () {\n                window.localStorage.setItem(\"company_logo\", reader.result);\n              };\n\n              setIsUploaded(true);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleFileChosenLogo(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  function toLocalStorage() {\n    var obj = {\n      name: name,\n      slogan: slogan,\n      location: location,\n      adress: adress,\n      ownername: ownername,\n      phone: phone,\n      email: email,\n      domain: domain,\n      description: description,\n      tax: tax\n    };\n    var token = jwt.sign(obj, \"shhhhh\");\n    window.localStorage.setItem(\"company_information\", token);\n    onClose();\n    window.location.reload();\n  }\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Link, {\n      color: props.colorMode === \"light\" ? \"#17d049\" : \"#27d476\",\n      onClick: onOpen,\n      children: props.text.steps.first\n    }), /*#__PURE__*/_jsx(Drawer, {\n      isOpen: isOpen,\n      placement: \"right\",\n      onClose: onClose,\n      children: /*#__PURE__*/_jsx(DrawerOverlay, {\n        children: /*#__PURE__*/_jsxs(DrawerContent, {\n          background: props.colorMode === \"light\" ? \"white\" : \"#15151f\",\n          borderLeft: \"2px solid #27d476\",\n          children: [/*#__PURE__*/_jsxs(DrawerBody, {\n            children: [/*#__PURE__*/_jsx(Text, {\n              pb: \"2\",\n              fontSize: \"xl\",\n              color: props.colorMode === \"light\" ? \"#094223\" : \"#27d476\",\n              fontWeight: \"bold\",\n              children: props.text.drawer.subject\n            }), /*#__PURE__*/_jsx(Text, {\n              pb: \"2\",\n              fontSize: \"sm\",\n              children: props.text.drawer.description\n            }), /*#__PURE__*/_jsx(Divider, {}), /*#__PURE__*/_jsxs(FormControl, {\n              borderRadius: \"0.5rem\",\n              border: \"2px dashed gray\",\n              mt: \"3\",\n              children: [/*#__PURE__*/_jsxs(FormLabel, {\n                color: props.colorMode === \"light\" ? \"#094223\" : \"white\",\n                p: \"1rem\",\n                fontWeight: \"bold\",\n                children: [isUpload ? /*#__PURE__*/_jsx(CheckIcon, {}) : /*#__PURE__*/_jsx(DownloadIcon, {}), \" Upload your Logo (.png)\"]\n              }), /*#__PURE__*/_jsx(Input, {\n                onChange: function onChange(e) {\n                  return handleFileChosenLogo(e.target.files[0]);\n                },\n                type: \"file\",\n                accept: \".png\",\n                opacity: \"0\",\n                border: \"0px\"\n              })]\n            }), /*#__PURE__*/_jsxs(FormControl, {\n              mt: \"3\",\n              children: [/*#__PURE__*/_jsxs(FormLabel, {\n                children: [\" \", props.text.drawer.form.companyname, \" \"]\n              }), /*#__PURE__*/_jsx(Input, {\n                placeholder: obj ? obj.name : null,\n                onChange: function onChange(e) {\n                  return setName(e.target.value);\n                },\n                type: \"text\"\n              })]\n            }), /*#__PURE__*/_jsxs(FormControl, {\n              mt: \"3\",\n              children: [/*#__PURE__*/_jsxs(FormLabel, {\n                children: [\" \", props.text.drawer.form.companyslogan, \" \"]\n              }), /*#__PURE__*/_jsx(Input, {\n                placeholder: obj ? obj.slogan : null,\n                onChange: function onChange(e) {\n                  return setSlogan(e.target.value);\n                },\n                type: \"text\"\n              })]\n            }), /*#__PURE__*/_jsxs(FormControl, {\n              mt: \"3\",\n              children: [/*#__PURE__*/_jsxs(FormLabel, {\n                children: [\" \", props.text.drawer.form.companylocation, \" \"]\n              }), /*#__PURE__*/_jsx(Input, {\n                placeholder: obj ? obj.location : null,\n                onChange: function onChange(e) {\n                  return setLocation(e.target.value);\n                },\n                type: \"text\"\n              })]\n            }), /*#__PURE__*/_jsxs(FormControl, {\n              mt: \"3\",\n              children: [/*#__PURE__*/_jsxs(FormLabel, {\n                children: [\" \", props.text.drawer.form.companyadress, \" \"]\n              }), /*#__PURE__*/_jsx(Input, {\n                placeholder: obj ? obj.adress : null,\n                onChange: function onChange(e) {\n                  return setAdress(e.target.value);\n                },\n                type: \"text\"\n              })]\n            }), /*#__PURE__*/_jsxs(FormControl, {\n              mt: \"3\",\n              children: [/*#__PURE__*/_jsxs(FormLabel, {\n                children: [\" \", props.text.drawer.form.companyownername, \" \"]\n              }), /*#__PURE__*/_jsx(Input, {\n                placeholder: obj ? obj.ownername : null,\n                onChange: function onChange(e) {\n                  return setOwnerName(e.target.value);\n                },\n                type: \"text\"\n              })]\n            }), /*#__PURE__*/_jsxs(FormControl, {\n              mt: \"3\",\n              children: [/*#__PURE__*/_jsxs(FormLabel, {\n                children: [\" \", props.text.drawer.form.companyphonenumber, \" \"]\n              }), /*#__PURE__*/_jsx(Input, {\n                placeholder: obj ? obj.phone : null,\n                onChange: function onChange(e) {\n                  return setPhone(e.target.value);\n                },\n                type: \"text\"\n              })]\n            }), /*#__PURE__*/_jsxs(FormControl, {\n              mt: \"3\",\n              children: [/*#__PURE__*/_jsxs(FormLabel, {\n                children: [\" \", props.text.drawer.form.companyemail, \" \"]\n              }), /*#__PURE__*/_jsx(Input, {\n                placeholder: obj ? obj.email : null,\n                onChange: function onChange(e) {\n                  return setEmail(e.target.value);\n                },\n                type: \"text\"\n              })]\n            }), /*#__PURE__*/_jsxs(FormControl, {\n              mt: \"3\",\n              children: [/*#__PURE__*/_jsxs(FormLabel, {\n                children: [\" \", props.text.drawer.form.companydomainname, \" \"]\n              }), /*#__PURE__*/_jsx(Input, {\n                placeholder: obj ? obj.domain : null,\n                onChange: function onChange(e) {\n                  return setDomain(e.target.value);\n                },\n                type: \"text\"\n              })]\n            }), /*#__PURE__*/_jsxs(FormControl, {\n              mt: \"3\",\n              children: [/*#__PURE__*/_jsxs(FormLabel, {\n                children: [\" \", props.text.drawer.form.invoicedescription, \" \"]\n              }), /*#__PURE__*/_jsx(Textarea, {\n                placeholder: obj ? obj.description : null,\n                onChange: function onChange(e) {\n                  return setDescription(e.target.value);\n                },\n                type: \"text\"\n              })]\n            }), /*#__PURE__*/_jsxs(FormControl, {\n              mt: \"3\",\n              children: [/*#__PURE__*/_jsxs(FormLabel, {\n                children: [\" \", props.text.drawer.form.tax, \" \"]\n              }), /*#__PURE__*/_jsxs(NumberInput, {\n                onChange: function onChange(e) {\n                  return setTax(e.target);\n                },\n                defaultValue: 15,\n                precision: 2,\n                step: 0.1,\n                children: [/*#__PURE__*/_jsx(NumberInputField, {}), /*#__PURE__*/_jsxs(NumberInputStepper, {\n                  children: [/*#__PURE__*/_jsx(NumberIncrementStepper, {}), /*#__PURE__*/_jsx(NumberDecrementStepper, {})]\n                })]\n              })]\n            })]\n          }), /*#__PURE__*/_jsxs(DrawerFooter, {\n            children: [/*#__PURE__*/_jsx(Button, {\n              _focus: \"none\",\n              variant: \"outline\",\n              mr: 3,\n              onClick: onClose,\n              children: \"Cancel\"\n            }), /*#__PURE__*/_jsx(Button, {\n              _focus: \"none\",\n              colorScheme: \"green\",\n              onClick: function onClick() {\n                return toLocalStorage();\n              },\n              children: \"Save\"\n            })]\n          })]\n        })\n      })\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}